#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                gregg.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PREFIX) verify details of prefix handler                          0s   handler         PREFIX__handler, PREFIX__purge                                               ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     open using stdin                     yPARSE_stdin                                                                                                                      i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   int      c        = 0;                                                                                                                                                                                                     

   COND       verify simple success                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     load     add a line to stdin                  stdin                       re           § 5 m 15  § re           § ·            § r·<·         §¦                                                                                                                                                               
     exec     read the record                      yPARSE_read                 &c, NULL, NULL, NULL                                                                                  i_greater   0                                                                                                    
     exec     call handler                         PREFIX__handler             2     , "re"        , '-'         , NULL                                                              i_equal     0                                                                                                    
     exec     ... check count                      PREFIX__count                                                                                                                     i_equal     1                                                                                                    
     get      ... check line                       PREFIX__detail              0                                                                                                     s_equal     0    2    2åreæ         5 m 15   2åreæ         4år·<·æ       ·                                                  
     get      ... check line                       PREFIX__detail              1                                                                                                     s_equal     n/a                                                                                                  
     get      ... check line                       PREFIX__detail              2                                                                                                     s_equal     n/a                                                                                                  

   COND       verify adding a second entry                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     load     add a line to stdin                  stdin                       con          § 9 u 82  § con          § ·            § k·<·         §¦                                                                                                                                                               
     exec     read the record                      yPARSE_read                 &c, NULL, NULL, NULL                                                                                  i_greater   0                                                                                                    
     exec     call handler                         PREFIX__handler             3     , "con"       , '-'         , NULL                                                              i_equal     0                                                                                                    
     exec     ... check count                      PREFIX__count                                                                                                                     i_equal     2                                                                                                    
     get      ... check line                       PREFIX__detail              0                                                                                                     s_equal     0    2    2åreæ         5 m 15   2åreæ         4år·<·æ       ·                                                  
     get      ... check line                       PREFIX__detail              1                                                                                                     s_equal     1    3    3åconæ        9 u 82   3åconæ        4åk·<·æ       ·                                                  
     get      ... check line                       PREFIX__detail              2                                                                                                     s_equal     n/a                                                                                                  

   COND       verify purging entries                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call purge                           PREFIX__purge                                                                                                                     i_equal     0                                                                                                    
     exec     ... check count                      PREFIX__count                                                                                                                     i_equal     0                                                                                                    
     get      ... check line                       PREFIX__detail              0                                                                                                     s_equal     n/a                                                                                                  
     get      ... check line                       PREFIX__detail              1                                                                                                     s_equal     n/a                                                                                                  
     get      ... check line                       PREFIX__detail              2                                                                                                     s_equal     n/a                                                                                                  

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PREFIX) verify reading prefixes from file                         0s   file            PREFIX_load                                                                  ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working/return variable       - - - - - - - - - - - - -   char     *x_name  = "/tmp/prefix.txt";                                                                                                                                                                                     

   COND       create a simple input file                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     create empty file                    yURG_touch                  x_name                                             , "root"    , "root"       , "0600"                i_equal     0                                                                                                    
     file     read for writing                     - - - - - - - - - - - - -   [[ x_name ]]                                                                                                                                                                                                               
     append   ... add a record                     - - - - - - - - - - - - -   # natsvi configuration file                                                                                                                                                                                                
     append   ... add a record                     - - - - - - - - - - - - -                                                                                                                                                                                                                              
     append   ... add a record                     - - - - - - - - - - - - -   #23456789-123456789- § 123456789-123456789- §                                                                                                                                                                              
     append   ... add a record                     - - - - - - - - - - - - -   re      § 5 m 15  § re       § r·<·    § r·<·       § testing   §                                                                                                                                                                    
     append   ... add a record                     - - - - - - - - - - - - -   con     § 9 u 82  § kon      § k·n·<·  § k·<·       § other text § more so §                                                                                                                                                         
     append   ... add a record                     - - - - - - - - - - - - -                                                                                                                                                                                                                              
     append   ... add a record                     - - - - - - - - - - - - -   self    § · ! ·   § self     § ·       § z·s·<·     §                                                                                                                                                                                
     append   ... add a record                     - - - - - - - - - - - - -   # end-of-file                                                                                                                                                                                                              
     exec     verify file size                     yURG_peek_count             x_name                                                                                                i_equal     8                                                                                                    

   COND       verify reading the file                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call loader                          PREFIX_load                 x_name                                                                                                i_equal     0                                                                                                    
     exec     ... check count                      PREFIX__count                                                                                                                     i_equal     3                                                                                                    
     get      ... check line                       PREFIX__detail              0                                                                                                     s_equal     0    4    2åreæ         5 m 15   2åreæ         4år·<·æ       ·                                                 
     get      ... check line                       PREFIX__detail              1                                                                                                     s_equal     1    5    3åconæ        9 u 82   3åkonæ        4åk·<·æ       ·                                                 
     get      ... check line                       PREFIX__detail              2                                                                                                     s_equal     2    7    4åselfæ       · ! ·    4åselfæ       6åz·s·<·æ     ·                                                 
     get      ... check line                       PREFIX__detail              3                                                                                                     s_equal     n/a                                                                                                  

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove test file                     yURG_rm                     x_name                                                                                                i_equal     0                                                                                                    
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PREFIX) verify updates to prefixes and bases                      0s   english         PREFIX__english_change                                                       ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working/return variable       - - - - - - - - - - - - -   char      x_update  [LEN_TITLE] = "";                                                                                                                                                                                              
     local    create working/return variable       - - - - - - - - - - - - -   char      x_prefix  [LEN_LABEL] = "";                                                                                                                                                                                              
     local    create working/return variable       - - - - - - - - - - - - -   char      x_trunc   = 0;                                                                                                                                                                                                           

   COND       verify quick success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call update                          PREFIX__english_change      "tact"          , "con"           , x_update        , x_prefix        , &x_trunc                      i_equal     0                                                                                                    
     echo     ... check updated english            - - - - - - - - - - - - -   x_update                                                                                              w_equal     åtactæ                                                                                                  
     echo     ... check updated prefix             - - - - - - - - - - - - -   x_prefix                                                                                              w_equal     åconæ                                                                                                   
     echo     ... check prefix truncation          - - - - - - - - - - - - -   x_trunc                                                                                               i_equal     0                                                                                                       

   COND       verify change to prefix                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call update                          PREFIX__english_change      "sphere"        , "peri×"         , x_update        , x_prefix        , &x_trunc                      i_equal     0                                                                                                    
     echo     ... check updated english            - - - - - - - - - - - - -   x_update                                                                                              w_equal     åsphereæ                                                                                             
     echo     ... check updated prefix             - - - - - - - - - - - - -   x_prefix                                                                                              w_equal     åperiæ                                                                                                  
     echo     ... check prefix truncation          - - - - - - - - - - - - -   x_trunc                                                                                               i_equal     1                                                                                                       

   COND       verify change to root                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call update                          PREFIX__english_change      "sphere"        , "periÖ"         , x_update        , x_prefix        , &x_trunc                      i_equal     0                                                                                                    
     echo     ... check updated english            - - - - - - - - - - - - -   x_update                                                                                              w_equal     åphereæ                                                                                             
     echo     ... check updated prefix             - - - - - - - - - - - - -   x_prefix                                                                                              w_equal     åperiæ                                                                                                  
     echo     ... check prefix truncation          - - - - - - - - - - - - -   x_trunc                                                                                               i_equal     0                                                                                                       

   COND       verify double change to root                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call update                          PREFIX__english_change      "sphere"        , "periÖÖ"        , x_update        , x_prefix        , &x_trunc                      i_equal     0                                                                                                    
     echo     ... check updated english            - - - - - - - - - - - - -   x_update                                                                                              w_equal     åhereæ                                                                                             
     echo     ... check updated prefix             - - - - - - - - - - - - -   x_prefix                                                                                              w_equal     åperiæ                                                                                                  
     echo     ... check prefix truncation          - - - - - - - - - - - - -   x_trunc                                                                                               i_equal     0                                                                                                       

   COND       verify one of each change                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call update                          PREFIX__english_change      "sphere"        , "peri×Ö"        , x_update        , x_prefix        , &x_trunc                      i_equal     0                                                                                                    
     echo     ... check updated english            - - - - - - - - - - - - -   x_update                                                                                              w_equal     åphereæ                                                                                             
     echo     ... check updated prefix             - - - - - - - - - - - - -   x_prefix                                                                                              w_equal     åperiæ                                                                                                  
     echo     ... check prefix truncation          - - - - - - - - - - - - -   x_trunc                                                                                               i_equal     1                                                                                                       

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PREFIX) verify finding prefixes                                   0s   finding         PREFIX__by_name, PREFIX_english                                              ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working/return variable       - - - - - - - - - - - - -   short     n  = 0;                                                                                                                                                                                                                  
     local    create working/return variable       - - - - - - - - - - - - -   char      x_english [LEN_LABEL] = "";                                                                                                                                                                                              
     local    create working/return variable       - - - - - - - - - - - - -   char      x_gregg   [LEN_LABEL] = "";                                                                                                                                                                                              
     local    create working/return variable       - - - - - - - - - - - - -   void     *x_point   = NULL;                                                                                                                                                                                                        
     local    create working/return variable       - - - - - - - - - - - - -   char      x_again   [LEN_LABEL] = "";                                                                                                                                                                                              

   REUSE -C-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify quick success on first item                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            PREFIX__by_name             "trans"     , x_english   , x_gregg     , &x_point                                                    i_equal     1                                                                                                     n                    
     echo     ... check index                      - - - - - - - - - - - - -   n                                                                                                     i_equal     1                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åtransæ                                                                                              
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åt·<·æ                                                                                               
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail              n                                                                                                     s_equal     1    6    5åtransæ      5 m 103  5åtransæ      4åt·<·æ       ·                                         
     get      ... check line                       PREFIX__detail_by_ptr       n  , x_point                                                                                          s_equal     1    6    5åtransæ      5 m 103  5åtransæ      4åt·<·æ       ·                                         
     exec     call get english                     PREFIX_english              x_point     , x_again                                                                                 i_equal     0                                                                                                    
     echo     ... check again                      - - - - - - - - - - - - -   x_again                                                                                               w_equal     åtransæ                                                                                              

   COND       verify on a later prefix                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            PREFIX__by_name             "de"        , x_english   , x_gregg     , &x_point                                                    i_equal     3                                                                                                     n                    
     echo     ... check index                      - - - - - - - - - - - - -   n                                                                                                     i_equal     3                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     ådeæ                                                                                                 
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åd·<·æ                                                                                               
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail              n                                                                                                     s_equal     3    11   2ådeæ         5 m 81   2ådeæ         4åd·<·æ       ·                                         
     get      ... check line                       PREFIX__detail_by_ptr       n  , x_point                                                                                          s_equal     3    11   2ådeæ         5 m 81   2ådeæ         4åd·<·æ       ·                                         
     exec     call get english                     PREFIX_english              x_point     , x_again                                                                                 i_equal     0                                                                                                    
     echo     ... check again                      - - - - - - - - - - - - -   x_again                                                                                               w_equal     ådeæ                                                                                                 

   COND       attempt with missing prefix                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            PREFIX__by_name             "trouble"   , x_english   , x_gregg     , &x_point                                                    i_lesser    0                                                                                                     n                    
     echo     ... check index                      - - - - - - - - - - - - -   n                                                                                                     i_lesser    0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åæ                                                                                                   
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åæ                                                                                                   
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail              n                                                                                                     s_equal     n/a                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       n  , x_point                                                                                          s_equal     n/a                                                                                                    
     exec     call get english                     PREFIX_english              x_point     , x_again                                                                                 i_lesser    0                                                                                                    
     echo     ... check again                      - - - - - - - - - - - - -   x_again                                                                                               w_equal     åæ                                                                                                   

   COND       verify with missing english                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            PREFIX__by_name             "magni"     , NULL        , x_gregg     , &x_point                                                    i_equal     37                                                                                                    n                    
     echo     ... check index                      - - - - - - - - - - - - -   n                                                                                                     i_equal     37                                                                                                   
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åm·<·æ                                                                                               
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail              n                                                                                                     s_equal     37   54   5åmagniæ      5 m 103  5åmagniæ      4åm·<·æ       ·                                         
     get      ... check line                       PREFIX__detail_by_ptr       n  , x_point                                                                                          s_equal     37   54   5åmagniæ      5 m 103  5åmagniæ      4åm·<·æ       ·                                         
     exec     call get english                     PREFIX_english              x_point     , x_again                                                                                 i_equal     0                                                                                                    
     echo     ... check again                      - - - - - - - - - - - - -   x_again                                                                                               w_equal     åmagniæ                                                                                              

   COND       verify with missing gregg                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            PREFIX__by_name             "restr"     , x_english   , NULL        , &x_point                                                    i_equal     41                                                                                                    n                    
     echo     ... check index                      - - - - - - - - - - - - -   n                                                                                                     i_equal     41                                                                                                   
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     årestræ                                                                                              
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail              n                                                                                                     s_equal     41   61   5årestræ      5 m 96   5årestræ      6år·z·<·æ     ·                                         
     get      ... check line                       PREFIX__detail_by_ptr       n  , x_point                                                                                          s_equal     41   61   5årestræ      5 m 96   5årestræ      6år·z·<·æ     ·                                         
     exec     call get english                     PREFIX_english              x_point     , x_again                                                                                 i_equal     0                                                                                                    
     echo     ... check again                      - - - - - - - - - - - - -   x_again                                                                                               w_equal     årestræ                                                                                              

   COND       attempt with null prefix                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            PREFIX__by_name             NULL        , x_english   , x_gregg     , &x_point                                                    i_lesser    0                                                                                                     n                    
     echo     ... check index                      - - - - - - - - - - - - -   n                                                                                                     i_lesser    0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åæ                                                                                                   
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åæ                                                                                                   
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail              n                                                                                                     s_equal     n/a                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       n  , x_point                                                                                          s_equal     n/a                                                                                                    
     exec     call get english                     PREFIX_english              x_point     , x_again                                                                                 i_lesser    0                                                                                                    
     echo     ... check again                      - - - - - - - - - - - - -   x_again                                                                                               w_equal     åæ                                                                                                   

   COND       verify on a multi prefix                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call find                            PREFIX__by_name             "self-con"  , x_english   , x_gregg     , &x_point                                                    i_equal     124                                                                                                   n                    
     echo     ... check index                      - - - - - - - - - - - - -   n                                                                                                     i_equal     124                                                                                                  
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åselfconæ                                                                                            
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     ås·k·<·æ                                                                                             
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail              n                                                                                                     s_equal     124  189  8åself-conæ   5 m 106  7åselfconæ    6ås·k·<·æ     ·                                         
     get      ... check line                       PREFIX__detail_by_ptr       n  , x_point                                                                                          s_equal     124  189  8åself-conæ   5 m 106  7åselfconæ    6ås·k·<·æ     ·                                         
     exec     call get english                     PREFIX_english              x_point     , x_again                                                                                 i_equal     0                                                                                                    
     echo     ... check again                      - - - - - - - - - - - - -   x_again                                                                                               w_equal     åselfconæ                                                                                            

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (PREFIX) verify prefix driver                                      0s   driver          PREFIX_driver                                                                ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working/return variable       - - - - - - - - - - - - -   void     *x_point   = NULL;                                                                                                                                                                                                        
     local    create working/return variable       - - - - - - - - - - - - -   char      x_english [LEN_LABEL] = "";                                                                                                                                                                                              
     local    create working/return variable       - - - - - - - - - - - - -   char      x_gregg   [LEN_LABEL] = "";                                                                                                                                                                                              

   REUSE -C-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify quick, no prefix run                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               ""          , x_english   , x_gregg     , &x_point                                                    i_equal     0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åtestæ                                                                                               
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åt·e·z·tæ                                                                                            
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    

   COND       verify quick, simple prefix                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               "re"        , x_english   , x_gregg     , &x_point                                                    i_equal     0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åretestæ                                                                                               
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     år·<·t·e·z·tæ                                                                                            
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     ¬¬¬  59   2åreæ         5 m 81   2åreæ         4år·<·æ       ·                                         

   COND       attempt with nulls                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               NULL        , x_english   , x_gregg     , &x_point                                                    i_lesser    0                                                                                                    
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    
     exec     call driver                          PREFIX_driver               "re"        , NULL        , x_gregg     , &x_point                                                    i_lesser    0                                                                                                    
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    
     exec     call driver                          PREFIX_driver               "re"        , x_english   , NULL        , &x_point                                                    i_lesser    0                                                                                                    
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    
     exec     call driver                          PREFIX_driver               "re"        , x_english   , x_gregg     , NULL                                                        i_lesser    0                                                                                                    
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    

   COND       verify a truncated prefix                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               "re×"       , x_english   , x_gregg     , &x_point                                                    i_equal     0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     årtestæ                                                                                               
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     år·<·t·e·z·tæ                                                                                            
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     ¬¬¬  59   2åreæ         5 m 81   2åreæ         4år·<·æ       ·                                         

   COND       attempt with a illegal prefix                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               "GOB"       , x_english   , x_gregg     , &x_point                                                    i_lesser    0                                                                                                    
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    

   COND       verify a truncated root                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               "reÖ"       , x_english   , x_gregg     , &x_point                                                    i_equal     0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åreestæ                                                                                               
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     år·<·t·e·z·tæ                                                                                            
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_exists    0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     ¬¬¬  59   2åreæ         5 m 81   2åreæ         4år·<·æ       ·                                         

   COND       verify with a no-prefix symbol                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               "´"         , x_english   , x_gregg     , &x_point                                                    i_equal     0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åtestæ                                                                                               
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åt·e·z·tæ                                                                                            
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    

   COND       verify the other no-prefix symbol                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_english, "test"      );                                                                                                                                                                                          
     code     prepare english                      - - - - - - - - - - - - -   strcpy (x_gregg  , "t·e·z·t"   );                                                                                                                                                                       
     exec     call driver                          PREFIX_driver               "·"         , x_english   , x_gregg     , &x_point                                                    i_equal     0                                                                                                    
     echo     ... check english                    - - - - - - - - - - - - -   x_english                                                                                             w_equal     åtestæ                                                                                               
     echo     ... check gregg                      - - - - - - - - - - - - -   x_gregg                                                                                               w_equal     åt·e·z·tæ                                                                                            
     echo     ... check point                      - - - - - - - - - - - - -   x_point                                                                                               p_null      0                                                                                                    
     get      ... check line                       PREFIX__detail_by_ptr       0  , x_point                                                                                          s_equal     n/a                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



# end-of-file.  done, finito, completare, whimper [Ï´···
